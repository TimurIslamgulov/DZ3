## __Инструкция по GIT__

*__Git__ — это набор консольных утилит, которые отслеживают и фиксируют изменения в файлах*

После установки Git необходимо произвести первоочередные настройки, а именно открыть терминал и запустить команды:

>git config --global user.name "My Name"

>git config --global user.email "mail@example.com"

Теперь каждое действие будет отмечено именем и почтой. Таким образом, пользователи всегда будут в курсе, кто отвечает за какие изменения.

Для просмотра всех настроек системы, необходимо использовать команду:

>git config --list

Если в начале не была произведена настройка - не страшно. Git всегда подскажет разработчику, если тот запутался, например:

1. Команда git --help - выводит общую документацию по git
2. Если введем git log --help - он предоставит нам документацию по какой-то определенной команде (в данном случае это - log)
3. Если вы вдруг сделали опечатку - система подскажет вам нужную команду
4. После выполнения любой команды - отчитается о том, что было сделано
5. Также Гит прогнозирует дальнейшие варианты развития событий и всегда направит разработчика, куда двигаться дальше

## Создание нового репозитория

Необходимо создать папку, например, на рабочем столе компьютера. После включения VS Code, открыть созданную папку. Далее в левом верхнем углу нажать на кнопку, показанную на картинке.

![скриншот](https://mfs-12.getcourse.ru/public/files/238106/161/4dbd9c1d37f598068d3a2531c1789f4e.png?e=1664737199&s=rCb_KD-OuyWnwHzhaaDPhA)

Ввести название файла и присвоить ему расширение __.md__ и нажать Enter

Далее в окне терминала ввести команду:

>git init

## Определение состояния

status — это еще одна важнейшая команда, которая показывает информацию о текущем состоянии репозитория: актуальна ли информация на нём, нет ли чего-то нового, что поменялось, и так далее. Команда выглядит следующим образом:

>git status

## Подготовка файлов

чтобы добавить файл или файлы к следующему коммиту необходимо использовапть команду:

>git add

К данной команде обязательно нужно добавить имя файла.

Для этого набираем в терминале git add и первые две буквы названия файла и нажимаем Tab 

Система при этом автоматически дозаполнит полное имя файла. После чего нажимаем Enter

Если нам нужно добавить все, что находится в директории, мы можем использовать команду

>git add --all

В случае, если при этом был добавлен ошибочный файл, для отмены можно использовать команды:

>git reset "имя файла"

## Создание коммита

Чтобы создать коммит необходдимо использовать команду

>git commit -m "Название коммита"

## Просмотр созданных коммитов

Чтобы просмотреть все созданные коммиты необходимо воспользоваться командой

>git log

При этом система выведет в терминале информацию о всех коммитах, как показано на изображении ниже.

![скриншот](https://fs.getcourse.ru/fileservice/file/download/a/238106/sc/225/h/e53766f32fc6d2f5c88994667f3cafe2.png)

Если нужно переделать commit message и внести туда новый комментарий, можно использовать команду

>git commit --amend -m "Новый комментарий"

## Отслеживание изменений, сделанных в коммитах

У каждого коммита есть свой уникальный идентификатор в виде строки цифр и букв. Чтобы просмотреть список всех коммитов и их хеш-коды, можно использовать команду

>git log

_Для работы с хеш-кодами достаточно использовать первые несколько символов_

Для просмотра изменений в коммите можно воспользоваться командой

>git show "первые несколько символов хеш-кода коммита"

## Переключение между различными версиями целевого объекта. 

Команда git checkout работает с тремя различными объектами: файлами, коммитами и ветками.

Чтобы переключиться на какой-то определенный коммит нужно ввести команду

>git checkout "первые несколько символов хеш-кода коммита"

Чтобы вернуться к актуальному состоянию и продолжить работу нужно ввести команду

>git checkout master

Чтобы увидеть разницу между текущим файлом и закоммиченным файлом используем команду

>git diff

Если у нас несколько версий черновика, мы можем вывести на экран ветку, где находимся, командой **git branch**.

Создать ветку можно командой git branch. Делать это надо в папке с репозиторием:

>git branch <название новой ветки>

Если потребуется переключиться с одной ветки на другую, вызовем команду:

>git checkout <имя ветки>

Когда мы правим текст/код в текущей ветке, автоматического слияния не происходит: можно создавать один документ в разных версиях в разных ветках.

Если нужно внести изменения, чтобы информация появилась в чистовике. Для этого есть команда: 

>git merge

Чтобы слить любую ветку с текущей, вызываем 

>git merge <имя ветки для слияния с текущей>

**Конфликт изменений**

При работе в двух ветках одновременно может возникнуть ситуация, когда в одной и другой ветке мы по-разному изменили блок текста. Если затем мы попробуем слить эти ветки, Git сообщит о конфликте и предложит выбрать, какие же изменения записать.

**Удаление веток**

Если какая-то ветка больше не нужна, ее можно удалить

Чтобы удалить ветку, нужно использовать команду:

**git branch -d <имя ветки>**

**Файл .gitignore**

Игнорируемый файл — файл, явным образом помеченный для Git как файл, который необходимо игнорировать.

Чтобы Git больше не спрашивал, например, о файле с изображением, можно добавить ещё один файл. Дать ему специальное, фиксированное название **.gitignore** . Важно! Не допустить ошибки в названии файла. В созданном файле указываются имена файлов, которые необходимо игнорировать Git.
Далее в терминале вводим команду **git add .gitignore** . Далее выполняем **git commit -m “добавили gitignore файл”**. Теперь файл с изображением не добавлен в репозиторий. Этот файл в Visual Studio Code помечается серым. Всё указанное в файле .gitignore Git будет автоматически пропускать.

**Визуализация всех веток**

**git log —graph**

Ключ —graf в связке с командой log позволяет отобразить коммиты в виде дерева.

## Работа с удаленными репозиториями

Удаленный репозиторий – полноценный репозиторий, ничем не отличающийся от локального. У удаленного репозитория есть собственные ветки, собственный указатель

**HEAD**

, своя история коммитов и так далее.

Если мы подключим удаленный репозиторий к своему локальному, то у нас появятся копии всех ссылочных объектов удаленного репозитория. То есть, например, у удаленного репозитория есть ветка

**main**

, а у нас будет копия этой ветки –

**origin/main**

. Все такие ссылочные объекты (указатели, ветки и теги) удаленного репозитория хранятся почти там же, где и у локального – в директории

**.git/refs/remotes/<имя_удаленного_репозитория>**

Принято называть удаленные ветки (то есть ветки удаленных репозиториев), приписывая к их названию имя удаленного репозитория. Например, если у нас есть удаленный репозиторий с именем

**origin**

и веткой

**main**

, то мы будем называть такую ветку

**origin/main**

. То же мы будем делать и со всеми остальными ссылочными объектами. Это может показаться излишним, но на самом деле это добавляет определенности и позволяет не запутаться в многочисленных названиях веток.

Копировать внешний репозиторий на свой ПК можно командой git clone.

Команда git clone составная: она не только загружает все изменения, но и пытается слить все ветки на локальном компьютере и в удаленном репозитории.

Чтобы скачать (притянуть) все из текущего репозитория и автоматически сделать merge с нашей версией, необходимо использовать команду:

git pull

Чтобы отправить свою версию репозитория во внешний репозиторий, необходимо использовать команду

git push

При первом её использовании нужна авторизация.

Эта команда позволяет отправить нашу версию репозитория на внешний репозиторий.

ТРЕБУЕТ АВТОРИЗАЦИИ на внешнем репозитории.

**Как настроить совместную работу**

1. Создать аккаунт на GitHub.com

2. Создать локальный репозиторий

3. “Подружить” локальный и удалённый репозитории.

_GitHub при создании нового репозитория подскажет, как это можно сделать_

4. Отправить (push) ваш локальный репозиторий в удалённый (на GitHub), при этом, возможно, вам нужно будет авторизоваться на удалённом репозитории

5. Провести изменения “с другого компьютера”, то есть в интерфейсе GitHub в данном случае

6. Выкачать (pull) актуальное состояние из удалённого репозитория

**pull request**

Команда для предложения изменений или запрос на вливание изменений в репозиторий.

В больших компаниях один ответственный за проект создает аккаунт. Другие пользователи дают команду pull request. Предлагать изменения на GitHub нужно в отдельной ветке. Сначала пользователь копирует репозиторий на свой компьютер, делает fork репозитория, затем клонирует версию на своём ПК, создаёт ветку с предлагаемыми изменениями, отправляет изменения командой push в свой аккаунт на GitHub и даёт команду pull request.

Чтобы сделать pull request, необходимо следующее:

1. Делаем fork (ответвление) репозитория.

2. Делаем git clone СВОЕЙ версии репозитория.

3. Создаем новую ветку и в НЕЕ вносим свои изменения.

4. Фиксируем изменения (делаем коммиты).

5. Отправляем свою версию в свой GitHub.

6. На сайте GitHub нажимаем кнопку pull request

****Добавление удаленного репозитория к существующему локальному. Команда git remote add.****

Чтобы добавить удаленный репозиторий к локальному репу. Для этого в Git есть команда ****

>git remote add

Например, так:

>git remote add <название удаленного репозитория> <ссылка на удаленный репозиторий>

**Имя удаленного репозитория** в команде **git remote add** можно придумать любое. Впоследствии, при работе с этим удаленным репозиторием, вы будете обращаться к нему по придуманному имени. Принято называть удаленный репозиторий **origin**, но строго говоря, никаких ограничений здесь нет.

**Со ссылкой** на удаленный репозиторий тоже все просто. Мы работаем с GitHub, поэтому эту ссылку можно взять, нажав на большую зеленую кнопку **Code** на странице репозитория на GitHub.

**Отключение удаленного репозитория от локального. Команда git remote remove.**

Иногда возникает необходимость **забыть** удаленный репозиторий. Для этого существует команда:

**git remote remove <название удаленного репозитория>**

Итак, чтобы получить изменения из удаленного репозитория, в Git предусмотрена команда 

>git fetch

Например, так

>git fetch origin

Важным здесь является то, что команда не обновляет рабочую копию в соответствии с удаленным репозиторием. Она обновляет только ссылочные объекты (указатели, ветки и теги) и скачивает все необходимые файлы в директорию **.git/objects**


