# _Инструкция по работе с командами **Git**_ 

## Команда ___init___

### _Инициализация репозитория_

Создать пустой репозиторий Git или вновь инициализировать существующий можно параметром init. При инициализации он создаст скрытую папку. В ней содержатся все объекты и ссылки, которые Git использует и создаёт в истории работы над проектом.

>git init # создать новый проект в текущей директории

>git init folder-name # создать новый проект в указанной директории

## Команда ___status___

### _Проверка статуса репозитория_

Просмотреть статус нужного репозитория можно по ключевому слову status: его действие распространяется на подготовленные, неподготовленные и неотслеживаемые файлы.

>git status # показать состояние репозитория (отслеживаемые, изменённые, новые файлы и пр.)

## Команда ___add___

### _Добавление отдельных файлов или всех файлов в область подготовленных файлов_

Добавить отдельный файл в область подготовленных файлов можно параметром add с указанием имени файла.

>git add .        # добавить в индекс все новые, изменённые, удалённые файлы из текущей директории и её поддиректорий

>git add text.txt # добавить в индекс указанный файл (был изменён, был удалён или это новый файл)

>git add -i       # запустить интерактивную оболочку для добавления в индекс только выбранных файлов

>git add -p       # показать новые/изменённые файлы по очереди с указанием их изменений и вопросом об отслеживании/индексировании

## Команда ___commit___

### _Внесение изменений однострочным сообщением или через редактор_

При создании коммита в репозитории можно добавить однострочное сообщение с помощью параметра commit с флагом -m. Само сообщение вводится непосредственно после флага, в кавычках.

>git commit -m "Name of commit"    # зафиксировать в коммите проиндексированные изменения (закоммитить), добавить сообщение

>git commit -a -m "Name of commit" # проиндексировать отслеживаемые файлы (ТОЛЬКО отслеживаемые, но НЕ новые файлы) и закоммитить, добавить сообщение

## Команда ___log___

### _Просмотр истории коммитов с изменениями_

Просматривать изменения, внесённые в репозиторий, можно с помощью параметра log. Он отображает список последних коммитов в порядке выполнения. Кроме того, добавив флаг -p, вы можете подробно изучить изменения, внесённые в каждый файл.

>git log master             # показать коммиты в указанной ветке

>git log -2                 # показать последние 2 коммита в активной ветке

>git log -2 --stat          # показать последние 2 коммита и статистику внесенных ими изменений

>git log -p -22             # показать последние 22 коммита и внесенную ими разницу на уровне строк

>git log --graph -10        # показать последние 10 коммитов с ASCII-представлением ветвления

>git log --since=2.weeks    # показать коммиты за последние 2 недели

>git log --after '2018-06-30' # показать коммиты, сделанные после указанной даты

>git log index.html         # показать историю изменений файла index.html (только коммиты)

>git log -5 index.html      # показать историю изменений файла index.html, последние 5 коммитов (только коммиты)

>git log -p index.html      # показать историю изменений файла index.html (коммиты и изменения)

>git log -G'myFunction' -p  # показать все коммиты, в которых менялись строки с myFunction (в кавычках регулярное выражение)

>git log -L '/<head>/','/<\/head>/':index.html # показать изменения от указанного до указанного регулярных выражений в указанном файле

>git log --grep fix         # показать коммиты, в описании которых есть буквосочетание fix (регистрозависимо, только коммиты текущей ветки)

>git log --grep fix -i      # показать коммиты, в описании которых есть буквосочетание fix (регистроНЕзависимо, только коммиты текущей ветки)

>git log --grep 'fix(ing|me)' -P # показать коммиты, в описании которых есть совпадения для регулярного выражения (только коммиты текущей ветки)

>git log --pretty=format:"%h - %an, %ar : %s" -4 # показать последние 4 коммита с форматированием выводимых данных

>git log --pretty=format:"%h %ad | %s%d [%an]" --graph --date=short # мой формат вывода, висящий на алиасе оболочки

>git log master..branch_99  # показать коммиты из ветки branch_99, которые не влиты в master

>git log branch_99..master  # показать коммиты из ветки master, которые не влиты в branch_99

>git log master...branch_99 --boundary -- graph # показать коммиты из указанных веток, начиная с их расхождения (коммит расхождения будет показан)

Выход из длинного лога вывода: q.

## Команда ___rm___

### _Удаление отслеживаемых файлов из текущего рабочего дерева_

Удалять файлы из текущего рабочего дерева можно с помощью параметра rm. При этом файлы удаляются и из индекса.

>git rm text.txt    # удалить отслеживаемый неизменённый файл и проиндексировать это изменение

>git rm -f text.txt # удалить отслеживаемый изменённый файл и проиндексировать это изменение

>git rm -r log/     # удалить всё содержимое отслеживаемой директории log/ и проиндексировать это изменение

>git rm ind*        # удалить все отслеживаемые файлы с именем, начинающимся на «ind» в текущей директории и проиндексировать это изменение

>git rm --cached readme.txt # удалить из отслеживаемых индексированный файл (ФАЙЛ ОСТАНЕТСЯ НА МЕСТЕ) (часто используется для нечаянно добавленных в отслеживаемые файлов)

## Команда ___diff___

### _Просмотр изменений до коммита_

Можно просматривать список изменений, внесённых в репозиторий, используя параметр diff. По умолчанию отображаются только изменения, не подготовленные для фиксации.

>git diff                # сравнить рабочую директорию и индекс (неотслеживаемые файлы ИГНОРИРУЮТСЯ)

>git diff --color-words  # сравнить рабочую директорию и индекс, показать отличия в словах (неотслеживаемые файлы ИГНОРИРУЮТСЯ)

>git diff index.html     # сравнить файл из рабочей директории и индекс

>git diff HEAD           # сравнить рабочую директорию и коммит, на который указывает HEAD (неотслеживаемые файлы ИГНОРИРУЮТСЯ)

>git diff --staged       # сравнить индекс и коммит с HEAD

>git diff master feature # посмотреть что сделано в ветке feature по сравнению с веткой master

>git diff --name-only master feature # посмотреть что сделано в ветке feature по сравнению с веткой master, показать только имена файлов

>git diff master...feature # посмотреть что сделано в ветке feature с момента (коммита) расхождения с master

## Команда ___reflog___

Используя reflog, вы можете вернуться в прошлое, отменяя почти любые действия, сделанные в Git. Даже если это были rebase или reset. Кроме того, её легко использовать.

>git reflog # позволяет восстановить случайно удаленные данные, откатив слияние, после которого случилась неприятность

## Команда ___checkout___

### _Переключение на другой коммит_

>git checkout b9533bb # переключиться на коммит с указанным хешем (переместить HEAD на указанный коммит, рабочую директорию вернуть к состоянию, на момент этого коммита)

>git checkout master  # переключиться на коммит, на который указывает master (переместить HEAD на коммит, на который указывает master, рабочую директорию вернуть к состоянию на момент этого коммита)

### _Переключение на другой коммит и продолжить работу с него_

>git checkout -b new-branch 5589877   # создать ветку new-branch, начинающуюся с коммита c хешем 5589877 (переместить HEAD на указанный коммит, рабочую директорию вернуть к состоянию, на момент этого коммита, создать указатель на этот коммит (ветку) с указанным именем)

# Работа с удаленными репозиториями

## Команда ___clone___

### Клонирование Существующего репозитория

Клонирование репозитории осуществлялось командой git clone <url>. Например, если вы хотите клонировать направление libgit2, вы можете сделать это следующим образом:

>git clone https://github.com/libgit2/libgit2

## Команда ___push___

### Отправка изменений

Перед пушем надо зафиксировать текущие изменения, то есть сделать git commit.

>git push  - git сам подскажет как отправить запрос правильно

## Команда ___fetch___

### Команда git fetch связывается с удалённым репозиторием и забирает из него все изменения, которых у вас пока нет и сохраняет их локально.

>git fetch [remote-name]

## Команда ___pull___

### Команда git pull работает как комбинация команд git fetch и git merge, т. е. Git вначале забирает изменения из указанного удалённого репозитория, а затем пытается слить их с текущей веткой.

>git pull

## Заключение

### Источники
1. [github.com](https://github.com/cyberspacedk/Git-commands)
2. [habr.com](https://habr.com/ru/company/ruvds/blog/599929/)
3. [gist.github.com](https://gist.github.com/Jekins/2bf2d0638163f1294637)

![Спасибо за внимание](/images/47.jpg)

                      # ___Конец___ #
