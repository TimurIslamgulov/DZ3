# Инструкция для работы с git

## *Что такое git?*

Итак, git- это программа, позволяющая осуществлять контроль версий различных файлов. Это своего рода программа, которая содержит информацию о множестве сохраненных состояний файлов.

git - бесплатная программа. Она была создана первоначально Линусом Торвальдсом для обегчения работы большого сообщества программистов. Теперь она является всемирно известной программой.

## *Команды для работы с git*

git- консольная программа. Общение происходит с ней посредством командной строки терминала. Расcмотрим основные команды.

### **git init**

Первое с чего мы должны начать - создать репозиторий. Для этого, находясь в выбранной Вами папке, выполнем команду *"git init"*. С этого момента будет создан скрытый файл в данной папке (.git) и она будет инициализирована для программы git.

### **git status**

Следующая команда, которая нам непременно понадобится - *"git status"*. С ее помощью мы спрашиваем git о текущем статусе, результат: git "говорит", на какой ветке коммитов мы сейчас расположены, а также имеются ли измененные файлы и неотслеживаемые файлы в инициализированной директории на момент вызова команды.

### **git add <имя файла>**

С помощью этой команды мы "говорим" git осуществлять контроль за состоянием указанного файла. С этого момента программа будет следить за проиходящими в нем изменениями. Соответственно, при вызове команды *"git status"* программа укажет нам, что этот файл был изменен.

### **git commit -m "примечание"**

Введя данную команду, мы создадим коммит, т.е. сохраненную версию файла на текущий момент времени, который был предварительно добавлен в git командой "git add" для контроля. Пометка -m означает, что мы далее оставляем примечание, т.е. сообщение (mesage), чтобы вкратце описать состояние файла в этом коммите.

### **git log**

Команда *git log* показывает историю коммитов (журнал), включая примечания к комитам, которые были оставлены пользователем. 

### **git reflog**

Эта команда представляет журанал коммитов в компактной форме, т.е. в более удобной для быстрого ознакомления с историей изменений. 

### **git log --graph**

Добавив к команде *git log* уточнение *--graph*, пользователь получит уже дерево коммитов, на котором будут отражаться коммиты нескольких веток разработки, включая места их слияния.

### **git checkout**

* Данная команда позволяет осуществлять переход к соответствующему коммиту (состоянию) файла. Для этого необходимо после команды *git checkout* написать первые 4 символа идентификатора коммита (необязательно указывать полностью идентификатор).

![git checkout example](/git_checkout.png)

![git log after git checkot](/git_log.png)

* Также с помощью данной команды можно переходить к необходимой ветке редактирований. Для этого после команды *git checkout* необходимо добавить название нужной ветки.  

![git checkout vetka1](/git_checkout_vetka1.png)

### **git diff**

Данная команда позволяет увидеть разницу между текущими изменениями в файле и используемой версией файла.

### **git branch**

* Команда *git branch* позволяет увидеть список всех существующих веток редактирования. В списке также будет отмечена ваша текущая ветка. 
* Команда *git branch branch_name* позволяет создать новую ветку редактирования.
* Команда *git branch -d branch_name* удалит ветку с указанным именем

### **git merge branch_name**

Данная команда позволяет осуществить слияние ветки, в которой вы сейчас находитесь, и указанной в команде ветки. В ходе слияния может возникнуть конфликт слияния. Если он возник, то его необходимо разрешить и закоммититься.

![conflict in case of merging](/2.%20conflict%20in%20case%20of%20merging.png)

![conflict was solved](/3.%20tree%20of%20commits%20with%20merging.png)

### **Команды для работы с удаленными репозиториями**

* Команда *git clone <ссылка на удаленный репозиторий>* позволяет полностью скопировать удаленный репозиторий в выбранную вами директорию.
* Команда *git remote add origin <ссылка на удаленный репозиторий>* добавляет удаленный репозиторий, при этом ему задается имя *origin*
* Команда *git branch -M main* меняет название главной ветки *master* на *main*.
* Команда *git push -u origin main* заливает на удаленный репозиторий *origin* изменения из ветки *main*. При этом возникнет необходимость "подружить" git и github, если это не было сделано ранее, или же сделать дополнительное подтверждение . Благодаря флагу *-u* git сделает выгрузку в данный репозиторий из указанной ветки по умолчанию, и в дальнейшем будет достаточно вводить просто *git push*.
* Команда *git pull* позволяет "подтянуть" из удаленного репозитория все изменения, причем происходит это путем слияния (мержинг).

## *Инструкция для работы с удаленными репозиториями*

Для осуществления контроля версий удаленным способом необходимы дополнительные сервисы. Самым известным является, пожалуй, github. Эта платформа позволяет осуществлять работу с удаленными репозиториями, включая размещение собственных репозиториев на открытом ресурсе, копирование информации из удаленных репозиториев на локальные, редактирование файлов на удаленных репозиториях, а также внесение предложений на поправки в определенных случаях. 

Инструкцию для работы с удаленными репозиториями можно представить в виде следующих пунктов:  

* **Использование команды git clone**

Для того, чтобы полностью себе перенести удаленный репозиторий на локальное устройство, не нужно иметь аккаунт на github. Достаточно иметь ссылку на удаленный репозиторий.

* **Оформление собственного аккаунта на github. Создание удаленного репозитория**

Если же появилась необходимость выложить в открытый доступ свою информацию или внести свои поправки и предложения в какой-либо проект, то в этом случае необходимо создать аккаунт на github. После создания учетной записи и удаленного репозитория github предложит ввести стандартную последовательность команд в зависимости от задач, которые хочет решить пользователь. 

![creation of remote repository](creation%20of%20remote%20repository.png)

Стоит обратить внимание на команду *git branch -M main*. Ранее в описании этой команды говорилось, что она изменяет название главной ветки *master* на *main*. Важность здесь заключается в том, что это делается из-за соображений толерантности, возникших на западе: *master* в переводе с английского означает *господин*. Соответственно, увидев название ветки *master*, какой-нибудь афроамериканец может очень сильно расстроиться... Поэтому к данной команде стоит отнестись с должным вниманием, т.к. работа на github требует уважения установленных правил, пусть они и кажутся незначительными.

* **git push**

Для того, чтобы "протолкнуть" свои изменения в файле на удаленный репозиторий, необходимо использовать команду *git push*. Однако при первом моменте использования этой команды, необходимо будет "подружить" github с git. Система VS code предложит пройти авторизацию на github. Также это можно сделать в меню VS code в настройке аккаунта ("Turn on Settings Sync..."), но в дальнейшем при первом использовании *git push* может снова возникнуть необходимость авторизоваться еще раз.

![turn on settings sync](turn%20on%20settings%20sync.png)

* **git pull**

Для того, чтобы "подтянуть" изменения из удаленного репозитория, используется команда *git pull*. Однако стоит помнить, что подтянутые изменения внесутся путем мержинга (попытки слияния).

* **pull request**

Далеко не всегда авторы проектов дают возможность редактировать файлы своих удаленных репозиториев. В этом случае необходимо сделать *pull request*, т.е. внести свои корректировки и поправки и направить предложение автору о применении этих изменений. Для этого:

1. Сначала создаем *fork*, т.е. копируем удаленный репозиторий другого автора на свой аккаунт в github.
2. Клонируем этот удаленный репозиторий на свой локальный.
3. В терминале переходим в склонированный репозиторий.
4. Создаем свою ветку редактирования!!! Считается признаком плохого тона, если пользователь присылает предложения о редактировании, работая в ветке с таким же названием, что и авторская.
5. Производим свои изменения.
6. "Пушим" изменения на свой аккаунт.
7. Отправляем со своего аккаунта *pull request* автору.