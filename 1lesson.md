# Краткая инструкция по GIT

>***`Репозиторий Git`*** — это виртуальное хранилище проекта. В нем можно хранить версии кода для доступа по мере необходимости.

## Основные команды GIT

****


| Команда | Действие | Примечания |
| :------------------- | :-------------------: | ---------------: |
| `init` | инициализация репозитория | Команда создает репозиторий в текущем каталоге. *Внимательно смотрим за тем, в какой папке выполняется данная команда!* |
| `add` | добавление файла в репозиторий | Команда добавляет изменение из рабочего каталога в раздел проиндексированных файлов. *Не забываем выполнять данную команду перед GIT COMMIT!* |
| `commit` | добавление коммита | Команда добавляет проиндексированный снимок состояния в историю проекта. *Команда не будет работать, если перед ней не выполнена команда GIT ADD!* |
| `log` | вызов лога | Команда вызывает архив выполненных изменений в репозитории. *Если окно терминала занимает малую часть экрана терминал выведет не весь лог!* |
| `checkout` | переключение между версиями | Команда выполняет переход к указанному коммиту, то есть привести репозиторий в состояние, соответствующее указанному коммиту. *Для переключения между версиями используются имена коммитов, полученные из лога!* |
| `status` | состояние репозитория | Команда для отображения состояния файлов в рабочем репозитории. *Внимательно читаем подсказки в терминале, поскольку там отображается какие файлы были изменены, но не добавлены, какие файлы ожидают коммита!* |
| `diff` | отображение различий | Команда для отображения разницы между текущим состоянием файла и сохраненным. |
| `clone` | создание рабочей копии | Команда для создания копии проекта, если проект уже настроен в ином репозитории. |
| `reset` | откат версии |  Команда для удаления определенных действий. имеет разнообразныме функции и варианты использования. *Поскольку используется для отмены изменений - использовать осторожно!* |

****

## Подробнее про команды GIT
> Для исполнения команд необходимо соблюдать синтаксис данных команд.

1. **`git init`** - команда инициализации GIT. Команда выполняется только один раз для первоначальной настройки нового репозитория. Выполнение данной команды приведет к созданию нового подкаталога .git в рабочем каталоге. Кроме того, будет создана новая главная ветка.

2. **`git clone`** - если проект уже настроен в центральном репозитории, для создания его локального клона является данная команда. Клонирование, как и команда git init, обычно выполняется один раз.

3. **`git add`** - команда добавляет изменение из рабочего каталога в раздел проиндексированных файлов. Она сообщает GIT, что необходимо включить изменения в конкретном файле в следующий коммит. 
*Однако на самом деле команда git add не оказывает существенного влияния на репозиторий: изменения регистрируются в нем только после выполнения команды git commit.*

    - `git add .\1lesson.md` - данныая команда сохранит конкретный файл. Для набора команды необязательно набирать подное имя файла. Достаточно начать вводить певый символ и нажать TAB для автозаполнения подходящего имени.
    - `git add --all` - данная команда сохраняет все файлы в рабочем репозитории. Можно выполнять, если есть уверенность, что нет изменений в остальных файлах.

4. **`git commit`** - команда делает "снимок" текущего состояния изменений, добавленных в раздел проиндексированных файлов. Перед выполнением команды git commit необходимо использовать команду git add, чтобы проиндексировать изменения, которые будут сохранены в коммите.
    - `git commit -m ""` - в кавычках указывается коммит к конкретному изменению файла. Крайне желательно вводить осознанные, емкие и информативные коммиты, а не белиберду.

5. **`git checkout`** - с помощью команды можно перейти к определенному коммиту и вернуть репозиторий в состояние, предшествовавшее этому коммиту. Переход к отдельному коммиту переведет репозиторий в состояние открепленного указателя HEAD. Работа при этом перестает принадлежать какой-либо из веток. При открепленном указателе HEAD все новые коммиты будут оставаться без родителя, пока ветки не вернутся в положенное состояние.
    - `git checkout` названиеКоммита - команда выполняется путем ввода команды и именни коммита, полученого через git log.

6. **`git status`** - команда отображает состояние рабочего каталога и раздела проиндексированных файлов. С ее помощью можно проверить индексацию изменений и увидеть файлы, которые не отслеживаются GIT. Информация об истории коммитов проекта не отображается при выводе данных о состоянии. Для этого используется команда git log.

*****

## Краткое руководство по началу использования GIT в Visual Studio Code

|  |  |
| :------------------- | :-------------------: |
| Для старта работы с репозиторием необходимо для начала создать рабочий каталог, то есть папку с проектом. После - в Visual Studio Code открываем созданный рабочий каталог. Далее открываем Терминал и вводим команду `git init`. Готово - теперь папка стала репозиторием. *Репозиторий необходимо создавать ТОЛЬКО в рабочем каталоге. Создание репозитория в корневых каталогах приведет к печальным последствиям. В нем необходимо создать первый файл для работы.* После выполнения всех вышеперечисленных действий необходимо добавить первый файл в репозиторий. После создания файлов или внесения изменений в него необходимо сохранить его через ctrl+s (либо включить автосохранинение в настройках VSC). Далее необходимо в Терминале прописать команду `git add ИмяФайла` (или git `add --all`). Затем, если не выскочило никаких ошибок, пишем `git commit -m"ВашКомментарий"`, что приведет к созданию первого коммита. Дальнейшие изменения также сохранияются через такие же действия. | ![](/img/attention.png) |

****

## Полезные библиотеки по GIT

<https://www.atlassian.com/ru/git/tutorials/setting-up-a-repository>

или

[GeekBrains](https://gb.ru/posts/soveti-pro-git)

[В начало](#Краткая-инструкция-по-GIT)

*****
*****

## Работа с ветками

| Команда | Подробно |
| ------- | -------- |
| git branch | запрос состояния веток |
| git branch имяВетки | создание ветки |
| git checkout имяВетки | переход на ветку |
| git merge имяВетки | слив ветки имяВетки в текущую ветку |
| git branch -d имяВетки | удалениие ветки ( большая -D удалит ветку в любом случае, а маленькая -d удалит ветку только в случае если нет никаких ошибок и ветка слита) |
| git log --graph | отображение лога с ветками |

>Для игнорирования какого-либо файлав ГИТом в репозитории необходимо создать в репозитории файл .gitignore в котором будут прописываться имена файлов, которые необходимо игнорировать.

****
****

## Работа с удаленными репозиториями

| Команда | Подробно |
| ------- | -------- |
| git clone СсылкаНаРепозиторий | Создание локальной копии удаленного репозитория |
| git pull | "Вытягивание" версии с сайта (удаленного репозитория) |
| git log | Команда действует как и при локальной работе. Выдает весь Лог коммитов по удаленному репозиторию |
| git git log --graph | Команда действует как и при локальной работе. Выдает весь Лог коммитов с ветками |
| git git checkout | Команда действует как и при локальной работе |

>Перед git clone СсылкаНаРепозиторий необходимо убедиться, что в папке не настроен репозиторий через git status.

>Команда git pull мержит версии!!!

## Важные моменты по работе с удаленными репозиториями
+ >Для выгрузки локального репозитория необходимо:
    - иметь аккаунт на ресурсе (например <https://www.github.com>)
    - создать на сайте новый репозиторий на сайте
    - ввести в терминале последовательно три команды:
        * git remote add origin ссылкаНаРепозиторий
        * git branch -M main
        * git push -u origin main
    - при дальшейшей работе с файлом нужно выполнять только команду git push
+ >Pull Request - запрос на "вливание" своих изменений в проекте в чужой проект.
+ >Кнопка Fork для запроса копии в репозитории на github. Копия создается на личном аккаунте.
+ >После работы с чьим-то проектом необходимо загрузить репозиторий к себе в профиль, затем по кнопке Compare and Pull Request выполняется запрос на слияние с автором.

>При работе с чужими проектами принято свои изменения делать в новой "своей" ветке.

>При удаленной работе с проектами принято при создании проекта создавать файл README о том, что делается в проекте.