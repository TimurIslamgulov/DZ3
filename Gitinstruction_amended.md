# Инструкция к Git или "Война и мир" и контроль версий

## Глава 1, в которой Софье Андреевне Толстой надоело переписывать рукописи

Представьте, что Софье Андреевне Толстой приходилось бесконечно переписывать начисто рукописи Льва Николаевича. Он вычитывал и вносил правки в чистовой вариант, периодически решая, что изначальный вид текста был идеальным. Софья Андреевна садилась за чистовик заново. Бумаги копились.  

<a href="https://ibb.co/Wyzj0Y7"><img src="https://i.ibb.co/mqyg0Md/IMG-3568.jpg" alt="IMG-3568" border="0"></a>

Это происходило до тех пор, пока жена Толстого не узнала про Git и не [скачала](https://git-scm.com/downloads) его. 

Жизнь заиграла новыми красками, бесконечная редактура упростилась в разы, лишние бумаги не копились в доме. Что же делала Софья Андреевна? 


## Глава 2, в которой Софья Андреевна представилась Git

После установки Git Софья Андреевна проверила, какая именно версия встала, для этого она ввела в терминале команду **git --version**. 

Следующим шагом она представилась Git с помощью команд **git config --global user.name "Sofia Andreevna"** и **git config --global user.email Tolstaya1844@gmail.com**.

## Глава 3, в которой Софья Андреевна начала работать

Первым делом Софья Андреевна завела репозиторий, для этого создала папку Leo_Tolstoy и ввела в терминале команду **git init**. 

Следующим этапом - создала файл War_and_Peace.txt и добавила его для отслеживания Git, используя **git add War_and_Peace.txt**

Нужно проверить, остлеживается ли файл теперь - **git status**.

Все готово для работы с рукописью. 

<a href="https://ibb.co/qxFSXxb"><img src="https://i.ibb.co/R74FZ7L/IMG-3589-2.jpg" alt="IMG-3589-2" border="0"></a>

## Глава 4, в которой Лев Николаевич описывал дуб

Пиши, Соня, - говорил Лев Николаевич, - том 2, часть 3, глава 1. Дуб. На краю дороги стоял дуб. Вероятно, в десять раз старше берез, составлявших лес, он был в десять раз толще, и в два раза выше каждой березы... 

Софья Андреевна записала текст и сохранила его с помощью **git commit -am "том 2, часть 3, глава 1. Дуб"**.

<a href="https://ibb.co/8r87hQ9"><img src="https://i.ibb.co/n7kLWKj/IMG-3593.jpg" alt="IMG-3593" border="0"></a>

Нет, не то, - задумался Толстой, - в 20 раз старше берез, в 5 раз толще и втрое выше каждой березы.

**git commit -am "том 2, часть 3, глава 1. Дуб. Версия 1"**

Нет, опять не то.

Софья Андреевна, вздохнув, ввела **git log** и нашла ID нужного коммита, после - **git checkout хеш нужного коммита** и проверила, что там было. Потом вернулась к последним изменениям - **git checkout master**. Внесла коррекцию.

**git commit -am "том 2, часть 3, глава 1. Дуб. Версия финальная"**

Потом она, запутавшись в размерах и возрасте берез, решила проверить, поменялось ли что-то, и ввела **git diff хеш первого коммита и хеш второго коммита** и сравнила версии. 

В конечном итоге, получилось известное всем:

> *На краю дороги стоял дуб. Вероятно, в десять раз старше берез, составлявлих лес, он был в десять раз толще, и в два раза выше каждой березы...*

## Глава 5, в которой Софья Андреевна узнает, что ветки есть не только у дуба

Углубившись в возможности Git, Софья Андреевна Толстая узнала о существовании веток (branch), которые можно эффективно использовать в работе. Ветки весят мало, позволяют вносить коррекции, идующие параллельно основной ветке (master). Таким образом, можно довести нужную часть рукописи до идеала и только потом слить с основной веткой. 

Софья Андреевна создала новую ветку для работы над очередной главой с помощью команды **git checkout -b "том 2, часть 3, глава 2"** и начала переписывть рукопись начисто. После того, как работа над главой была полностью завершена, Софья Андреевна перешла на ветку master - **git checkout master** и слила в нее вторую главу третьей части второго тома, используя **git merge том 2, часть 3, глава 2**. Слияние прошло без конфликтов, можно беспрепятственно продолжать работать над "Войной и миром". 

## Глава 6, в которой приводятся некоторые команды для работы с репозиториями

Все указанные выше команды приведены в виде таблицы. 

| Команда  | Что делает |
| ------------- | ------------- |
| git --version  | Вывод версии Git  |
| git config --global.user name "Имя" | "Знакомство" с Git  |
| git config --global. user email | "Знакомство" с Git |
| git init | Создание репозитория в выбранной папке |
| git status | Отображение отслеживания файлов |
| git add имя файла.расширение | Добавление файла для отслеживания |
| git commit -am "текст сообщения" | Сохранение изменений в файле |
| git log | Вывод журнала изменений |
| git checkout хеш коммита | Вызов нужной версии |
| git checkout master | Возврат к актуальной версии |
| git diff | Разница сохраненного файла и текущего состояния |
| git diff хеш коммита 1 и хеш коммита 2 | Разница между двумя заданными коммитами |
| git branch | Выводит список веток |
| git branch имя новой ветки | Создание новой ветки |
| git checkout -b "имя новой ветки" | Создание новой ветки |
| git checkout имя существующей ветки | Переход на выбранную ветку |
| git checkout master | Переход на основную ветку master | 
| git merge название ветки | Слияние ветки с веткой master | 
| git checkout -d название ветки | Удаление ненужной ветки после слияния | 
| git log --graph| графическое отображение веток |

<a href="https://ibb.co/RjhLhRM"><img src="https://i.ibb.co/qJ0b0T4/IMG-3598.jpg" alt="IMG-3598" border="0" /></a>

## Глава 7, в которой Лев Николаевич уехал 

Одним летним днем Лев Николаевич предупредил жену о своем скором отъезде из Ясной Поляны. Его продвинутая жена сообщила, что работу над рукописью можно не прекращать, и научила мужа работать с удаленными репозиториями. 

<a href="https://ibb.co/mGFwgdy"><img src="https://i.ibb.co/FKqMCcY/IMG-3707.jpg" alt="IMG-3707" border="0"></a>

Для этого она зарегестрировала два аккаунта на GitHub и создала удаленный репозиторий War_and_Peace на странице Льва Николаевича, после ввела в терминале **git remote add origin ссылка на репозиторий**, **git branch -M main** и **git push -u origin main**. Теперь работать с репозиторием можно локально и выгружать оттуда данные на GitHub, используя команду **git push**. 

Сама Софья Андреевна форкнула (fork) репозиторий War_and_Peace на свой аккаунт и после клонировала его в локальную папку - **git clone ссылка на форкнутый репозиторий**. Уже локально Софья Андреевна сделала новую ветку и продолжила переписывать рукопись. Все изменения она отправила в форкнутый репозиторий с помощью **git push**. Дальше воспользовалась кнопкой *Compare & pull request* на GitHub. После нажала *Create request*. 

Лев Николаевич полуил запрос от жены, вычитал текст и принял запрос на вливание новых "чистовиков" в финальную версию рукописи. 

## Глава 8, в которой приводятся некоторые команды для работы с удаленными репозиториями

| Команда  | Что делает |
| ------------- | ------------- |
| git clone ссылка на удаленный репозиторий | Выгрузить в локальную папку удаленный репозиторий |
| git remote add origin ссылка на репозиторий; git branch -M main; git push -u origin main | Начать работать с удаленным репозиторием локально |
| git puch | Загрузить изменения из локального в удаленный репозиторий |
| git pull | Выгрузить изменения из удаленного в локальный репозиторий |