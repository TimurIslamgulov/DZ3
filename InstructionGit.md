# **Особенности Git**

* Быстродействие 
* Простое проектное решение
* Возможность работать в разных параллельных ветвях
* Эффективная работа с большими проектами
* Храниние данных в виде снимков состояния проекта 

![img1](/)

* Локальность операций  - практически все операции могут проводиться в автономном режиме и без использования виртуальной части сети
* Безопасность - невозможно потерять информацию или повредить файл скрытно от Git
* Практически все операции в Git приводят к добавлению данных в базу  - сложно выполнить неотменяемое действие или стереть данные

# **Как работает Git?**

**Файлы в Git могут находиться в трёх основных состояниях:**
1. Зафиксированном (committed) - *данные в локальной базе*
2. Модифицированном (modified) - *изменения внесены в файл, но не зафиксированы в базе*
3. Индексированном (staged) - *вы пометили текущую версию модифицированного файла для следующей фиксации*

**Git-проект разбивается на три основные области:**
1. Папка Git - *место, где Git хранит метаданные и объектную базу данных проекта*
2. Рабочая папка - *место, куда выполняется выгрузка одной из версий проекта*
3. Область индексирования (промежуточная область) - *файл, обычно находящийся в папке Git и хранящий информацию, что именно войдёт в следующую операцию фиксации*

![img2](%D1%80%D0%B8%D1%812.jpg)

## **Базовый рабочий процесс в Git:**

1. Редактируем файл в рабочей папке.
2. git add (имя файла) - добавляем файл в модифицированные.
3. git commit -m "Comment"  - выполняем фиксацию, беря файлы из области индексирования и сохраняя снимки в папке Git.

# **Установка и настройка Git**

Печатаем команды для установки Git в терминале ОС:

## Установка в Linux

*Debian (Ubuntu):*

$ apt-get install git

*Fedora:*

$ yum install git

## Установка в Мас

[Установка Git в Мас](http://git-scm.com/download/mac)

## Установка в Windows

[Установка Git в Windows](http://git-scm.com/download/win)

## Первая настройка Git

*На каждом компьютере настройка проводится только один раз; при обновлениях все настройки сохраняются (параметр --global).*

### Первым делом указываем имя пользователя и адрес электронной почты:

$ git config --global user.name "YourName"

$ git config --global user.email "youremail@example.com"

### Проверка настроек (выводит все обнаруженные параметры):

$ git config --list

![img3](/)

$ git --version

*- показывает установленную версию Git*

### Справка (любая из трёх команд):

$ git help <команда>

$ git <команда> --help

$ man git-<команда>

# **Основы Git**

## Создание репозитория в Git:

### **1. Инициализация репозитория в существующей папке:**

Перейдите в папку проекта и введите

$ git init

*Результат - в существующей папке появится еще одна с именем .git - основа вашего репозитория.*

Чтобы в созданном репозитории начали отслеживаться файлы, их нужно туда добавить.

### **2. Клонирование существующего репозитория:**

$ git clone [url]

*-команда git clone по умолчанию забирает все версии всех файлов 
за всю историю проекта*

Например:

$ git clone https://github.com/libgit2/libgit2

## Запись изменений в репозиторий:

![img4](%D1%80%D0%B8%D1%814.jpg)

### Проверка состояния файлов:

$ git status

*-проверяет отслеживаемые и измененные файлы, сообщает имя ветки, на которой мы находимся*

Если команда status показывает, что есть новый неотслеживаемый файл, его надо добавить в отслеживаемые с помощью команды add.

### Просмотр изменений:

$ git diff

*-без дополнительных параметров, позволяет посмотреть, что было изменено, но пока не проиндексировано*

## **Управление версиями:**

1. $ git add filename.md

или

$ git add .

*- для добавления всех файлов в папке в отслеживаемые*

2. $ git commit -m "Comment"

*- фиксация измернений с комментарием (создание коммита)*

Или, пропустив пункт 1, сразу ввести:

$ git commit -am "Comment"

*- параметр -а позволяет автоматически индексировать все отслеживаемые файлы перед их фиксацией, позволяя обойтись без комманды git add*

**Помните, что всё, оставленное неиндексированным, в том числе любые созданные или измененные файлы, для которых после редактирования не была выполнена команда git add, в текущий коммит не войдет.**

Результат:

* зафиксированная вами ветка (master) 
* контрольная сумма SHA-1 версии (463dc4f) 
* количество подвергшихся изменениям файлов 
* статистика добавленных и удаленных строк

## Просмотр истории версий:

$ git log

*- выводит в обратном хрогологическом порядке список нескольких последних сохраненных в данный репозиторий версий*

Рядом с каждым коммитом указывается:

* его контрольная сумма
* имя и электронная почта автора
* дата создания
* сообщение о фиксации

$ git reflog

*- выводит в хронологическом порядке список всех коммитов*

## Перемещение между коммитами:

$ git checkout <первые 4 символа контрольной суммы коммита>

*- переходит к выбранному коммиту и убирает из видимости все последующие*

$ git checkout master

*- возвращение на актуальную версию и ветку master*

# Ветвления в Git

__*Ветвление (branching) - это отклонение от основной линии разработки, после которого работа перестаёт затрагивать эту самую основную линию.*__

*Ветка в Git - всего лишь лёгкий, подвижный указатель на одиниз коммитов (по умолчанию имя master).*

## Создание новой ветки

При создании новой ветки появляется указатель, который можно перемещать.

$ git branch <имя ветки>

*- создаёт новую ветку.*

HEAD указывает на локальную ветку, в которой вы находитесь в данный момент ($ git log).

## Смена веток

$ git checkout <имя ветки>

*- переводит на ветку, имя которой вы указали в комманде*

$ git checkout master

*- вернуться на ветку master*

**Переход на другую ветку сопровождается сменой файлов в рабочей папке!**

$ git branch

*- показывает список имеющихся веток и выделяет ту, в которой вы находитесь звездочкой.*

$ git branch -v

*- показывает список веток с последним коммитом, выполненным в каждой из них.*

## Основы слияния

**Слияние всегда производим из той ветки, в которую мы хотим добавить другую ветку!!!**

$ git merge <имя ветки>

*- слияние веток*

### **Конфликты при слиянии**

Если в двух ветках, которые вы собираетесь слить, вы внесли разные изменения в один и тот же файл, Git не 
сможет просто взять и объединить их.

В этом случае Git не может автоматически создать коммит слияния. Система приостанавливает процесс до момента разрешения конфликта.

Все, что относится к области конфликта слияния помечено как неслитое (unmerged). Система Git добавляет к проблемным файлам стандартные метки, позволяющие открывать эти файлы вручную и разрешать конфликты.

После завершения работы с инструментом слияния Git спросит, удалось ли разрешить конфликты. В случае положительного ответа файл индексируется, что означает разрешение конфликта.

$ git mergetool

*- для решения конфликтов через графический интерфейс*

После решения конфликта надо сделать коммит.

## Удаление веток

$ git branch -d <имя ветки>

*- комманда для удаления конкретной ветки*

# GitHub

Сайт GitHub является крупнейшим на сегодняшний день хостингом для Git репозиториев и центральным местом сотрудничества миллионов разработчиков 
и проектов.

Первым делом нужно создать бесплатную учетную запись.

Далее авторизуемся в VScode:
1. Открываем браузер по умолчанию
2. Входим там на GitHub
3. в VScode заходим в настройки (шестерёнка), выбираем Вход через GitHub
4. В браузере следовать указаниям
5. Проверяем авторизацию в VScode (человечек-левый нижний угол-имя пользователя) 

## Перемещение репозитория на локальный компьютер:

* Входим в GitHub под своей учетной записью (если не вошли ранее)
* Находим нужный репозиторий
* Копируем код (зеленая кнопка Code + выбираем HTTPS)
* В VScode в папке, созданной для этого репозитория, вводим команду: $ git clone <скопированная ссылка кода>
* $ cd <имя папки> - переходим в папку репозитория

$ git pull *- стянуть измененный репозиторий в локальный


## Создание репозитория на GitHub:

* Проверяем, закоммичены ли изменения в локальном проекте
* На GitHub создаем репозиторий (+, название этого репозитория, выбираем необходимые настройки, создать)
* Копируем комманды (второй список комманд)
* Вставляем их в VScode и выполняем
* Наш проект переносится на GitHub

$ git push - направлять ("толкать") изменения локального репозитория на удаленный репозиторий

## Участие в чужом проекте GitHub:

* Создаём копию проекта на GitHub (кнопка Fork)
* Создаём папку под проект на локальном компьютере
* В VScode вводим $ git clone <ссылка>
* В появившемся проекте создаём новую ветку и переходим в неё
* Создаём изменения в проекте, коммитим
* Предлагаем изменения хозяину репозитория путём комманды $ git push (следуем рекомендациям git)
* На GitHub появится кнопка Compare and pull request (сравнить и отправить), нажимаем
* Пишем комментарий и отправляем хозяину репозитория (возможно обсуждение и редактирование)
* Владелец проекта выполняет слияние или закрывает запрос на включение наших изменений.

